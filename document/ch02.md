# 2. 객체지향 원리
[TOC]
## 2.1 추상화

### ++*교육학 용어 사전에 나오는 정의*++
=="추상화는 사물의 공통된 특징, 즉 추상적 특징을 파악해 인식의 대상으로 삼는 행위다. 추상화가 가능한 개체들은 개체가 소유한 특성의 이름으로 하나의 집합(class)을 이룬다.
그러므로 추상화한다는 것은 여러 개체들을 집합으로 파악한다는 것과 같다. 추상적 특성은 집합을 구성하는 개체들을 '일반화' 하는 것이므로 집합의 요소들에 보편적인 것이다."==

* 구체적인 사물(자동차)들의 **공통적인 특징**(승객의 수, 문의 개수)을 파악해서 이를 하나의 **개념(집합)**으로 다루는 수단이 ++**추상화**++다.

##### 일반적인 자동차 종류에 따른 분류
* 차의 종류가 추가될때마다 코드에 수정이 불가피하다.
```java
switch(자동차 종류){
	case 아우디: 
    //엔진오일 교환
    break;
    case 벤츠:
     //엔진오일 교환
    break;
    case BMW: 
    //엔진오일 교환
    break;
}
```

##### 추상화 한 경우
```Java
void changeEngineOil(Car c){
	c.changeEngineOil();
}
```

## 2.2 캡슐화
==요구사항 변경은 당연한 것이다==

* 응집도(cohesion)
	* 클래스나 모듈 안의 요소들이 얼마나 밀접하게 관련되어 있는가.
* 결합도(coupling)
	* 어떤 기능을 실행하는 데 다른 클래스나 모듈들에 얼마나 의존적인지를 나타낸다.

**캡슐화**는 낮은 결합도를 유지할 수 있도록 해주는 객체지향 설계
* 정보은닉(infomation hiding)
	* 알 필요가 없는 정보는 외부에서 접근하지 못하도록 제한하는 것 

* Tell, Don't Ask


```
데이터는 물어보지 않고, 기능을 실행해 달라
```

* 데미테르의 법칙(Law of Demeter)
* [데미테르의 법칙 참조](http://c2.com/cgi/wiki?LawOfDemeter)

```
* 메서드에서 생성한 객체의 메서드만 호출
* 파라미터로 받은 객체의 메서드만 호출
* 필드로 참조하는 객체의 메서드만 호출
```

```java
public void processSome(Member member){
	if(member.getDate().getTime() < ... ){ //데미테르 법칙 위반
    
    }
}
```

```java
member.someMethod() 로 변경
```


## 2.3 일반화 관계
### 2.3.1 일반화는 또 다른 캡슐화

### ++*철학에서 일반화(generalization)*++
=="여러 개체들이 가진 공통된 특성을 부각시켜 하나의 개념이나 법칙으로 성립시키는 과정"==

### 2.3.2 일반화 관계와 위임
#### 위임
어떤 클래스의 일부 기능만 재사용하고 싶은 경우에 사용
자신이 직접 기능을 실행하지 않고 다른 클래스의 객체가 기능을 실행하도록 위임하는 것.
* 일반화 관계 - 클래스 사이의 관계
* 위임 - 객체 사이의 관계

##### ++위임을 사용해 ==일반화(상속==)를 대신하는 과정++
1. 자식 클래스에 부모 클래스의 인스턴스를 참조하는 속성을 만든다. 이 속성 필드를 this로 초기화한다.
2. 서브 클래스에 정의된 각 메서드에 1번에서 만든 위임 속성 필드를 참조하도록 변경한다.
3. 서브 클래스에서 일반화 관계 선언을 제거하고 위임 속성 필드에 슈퍼 클래스의 객체를 생성해 대입한다.
4. 서브 클래스에서 사용된 슈퍼 클래스의 메서드에도 위임 메서드를 추가한다.
5. 컴파일하고 잘 동작하는지 확인한다.

### 2.3.3 집합론 관점으로 본 일반화 관계

### 2.4 다형성(polymorphism)
### ++*객체지향에서 다형성(polymorphism)*++
=="서로 다른 클래스의 객체가 같은 메시지를 받았을때 각자의 방식으로 동작하는 능력"==

**다형성과 일반화 관계는 코드를 간결하게 할 뿐 아니라 변화에도 유연하게 대처할 수 있게 한다.**

### 2.5 피터 코드의 상속 규칙
* 자식 클래스와 부모 클래스 사이는 '역할수행'관계가 아니어야한다.
* 한 클래스의 인스턴스는 다른 서브 클래스의 객체로 변환할 필요가 절대 없어야한다.
* 자식 클래스가 부모 클래스의 책임을 무시하거나 재정의하지 않고 확장만 수행해야 한다.
* 자식 클래스가 단지 일부 기능을 재사용할 목적으로 유틸리티 역할을 수행하는 클래스를 상속하지 않아야한다.
* 자식 클래스가 '역할(role)', '트랜잭션(transaction)', '디바이스(device)'등을 특수화(specialization)해야한다.





